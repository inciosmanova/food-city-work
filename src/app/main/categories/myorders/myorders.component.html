<ngx-spinner class="spinner"  bdOpacity = 0.1 size = "medium" color = "#6E7A78" type = "ball-circus" [fullScreen] = "true"></ngx-spinner>

<h1 class="header_text">Sifarişlərim</h1>
<main>

    <mat-form-field class="w-100"  [formGroup]="dateFilter">
        <mat-date-range-input [rangePicker]="picker" >
            <input matStartDate placeholder="Start date" formControlName="beginDate">
            <input matEndDate placeholder="End date" formControlName="endDate">
        </mat-date-range-input>
        <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-date-range-picker #picker>
            <mat-date-range-picker-actions>
                <button mat-button matDateRangePickerCancel>Cancel</button>
                <button mat-raised-button matDateRangePickerApply (click)="onDateRangeChange()">Apply</button>
              </mat-date-range-picker-actions>
        </mat-date-range-picker>
        
    </mat-form-field>


    <div class="row mb-2" >
        <div class="col-4 custom_colored_box" *ngFor="let item of statusResult" (click)="getAllOrdersBrowseMobile(item.id)">
            <div 
            [ngClass]="{
                'custom-card_green green_text': item.id === 1,
                'custom-card_yellow yellow_text  ': item.id === 2,
                'custom-card_red red_text': item.id === 3,
              }">
                <h1>{{item.value}}</h1>
                <h1>{{item.count}}</h1>
            </div>      
        </div>
     
         
  
    </div>

    <div      [ngClass]="{
        'table_list_green info_green custom-card_green': item.statusId === 1,
        'table_list_yellow info_yellow custom-card_yellow': item.statusId === 2,
        'table_list_red info_red custom-card_red ': item.statusId === 3,
      }"
    *ngFor="let item of browseResult"
    >
        <table>

            <tr>
                <td class="head">{{item.docNo}}</td>
                <td colspan="2">
                    <!-- <h4 class="green_text header d-flex">İcra edilib</h4> -->
                </td>
            </tr>
       
            <tr>
                <td>Sifariş tarixi</td>
                <td colspan="2">{{item.date}}</td>
            </tr>
            <tr>
                <td>İcra tarixi</td>
                <td colspan="2">{{item.plannedExecutionDate}}</td>

            </tr>


            <tr>
                <td>Sifariş № 1 </td>
                <td>{{item.orderType}}</td>
                <td>{{item.orderNo}}</td>
            </tr>
            <!-- <tr>
                <td>Məhsul</td>
                <td>Nektarin</td>
                <td></td>
            </tr> -->


          
         


        </table>
        <div class="box d-flex align-items-center justify-content-between">
            <div>
                <a class="openConfirmPopUp w-100" (click)="openDialog()">Şərtlərə bax</a>
            </div>
         
            <div>
                <button class="reject_button w-100">İmtina et</button>

            </div>
            <div>
                <button class="confirm_button w-100">Təsdiq et</button>

            </div>
          </div>

    </div>

    <nav id="datatablePagination" aria-label="Activity pagination">
        <mat-paginator [length]="length" [pageSize]="pageSize" [pageSizeOptions]="pageSizeOptions"
          (page)="onChangePage($event)" showFirstLastButtons>
        </mat-paginator>
      </nav>


</main>